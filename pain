package com.github.creaticat;

import org.javacord.api.DiscordApi;
import org.javacord.api.DiscordApiBuilder;
import org.javacord.api.entity.activity.ActivityType;
import org.javacord.api.entity.message.embed.EmbedBuilder;

import java.awt.*;
import java.util.Random;

class Main {
    //int friendshipLevel = 0;

    public static void main(String[] args) {
        // bot token
        String token = "safety jim wont like this";

        //logs in the bot
        DiscordApi api = new DiscordApiBuilder().setToken(token).login().join();

        //updates bot status
        api.updateActivity(ActivityType.PLAYING, "working");

        //prefix
        String prefix ="$";

        int friendshipLevel = 0;

        api.addMessageCreateListener(event -> {
            if (event.getMessageContent().equalsIgnoreCase(prefix+"test")) {
                event.getChannel().sendMessage("I'm online!");
            }

            if (event.getMessageContent().contains(prefix+"speak")) {
                String[] compliment = {"You'll do amazing today!", "I like being friends with you!", "You're an amazing person!", "You'll do great things someday."};
                String[] insult = {"You suck!", "You're useless", "I hate you", "Don't touch me.", "Feed me"};

                String output;
                /* if(friendshipLevel >= 3){
                    output = getRandom(compliment);
                }
                else {
                    output = getRandom(insult);
                } This doesn't work, so ignore it please*/

                output = getRandom(compliment); // placeholder

                // Create the embed
                EmbedBuilder embed = new EmbedBuilder()
                        .setTitle(output)
                        .setColor(Color.BLUE)
                        .setImage("https://media.discordapp.net/attachments/776249558598025237/776249650360746034/sleeping.png");
                // Send the embed
                event.getChannel().sendMessage(embed);
            }
            /* if (event.getMessageContent().contains(prefix+"pray")){
                friendshipLevel += 1;
                event.getChannel().sendMessage("Friendship level: " + Integer.toString(friendshipLevel));
            } This doesn't work please ignore aaaa*/
            if (event.getMessageContent().contains(prefix+"hello")) {
                String messageContent = event.getMessageContent().toString(); //store what was just said
                messageContent = messageContent.replace(".hello ", ""); // take away the initial command ".hello"

                // Create the embed
                EmbedBuilder embed = new EmbedBuilder()
                        .setTitle(messageContent)
                        .setDescription(messageContent)
                        .setAuthor("Author Name", "http://google.com/", "https://cdn.discordapp.com/embed/avatars/0.png")
                        .addField("A field", "Some text inside the field")
                        .addInlineField("An inline field", "More text")
                        .addInlineField("Another inline field", "Even more text")
                        .setColor(Color.BLUE)
                        .setFooter("Footer", "https://cdn.discordapp.com/embed/avatars/1.png")
                        .setImage("https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/969081f9-ae52-4af9-aaf8-a89f0e9a0cf2/dcxjyfb-d03bd7b1-1f18-4b3c-8b35-794de8312991.gif?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOiIsImlzcyI6InVybjphcHA6Iiwib2JqIjpbW3sicGF0aCI6IlwvZlwvOTY5MDgxZjktYWU1Mi00YWY5LWFhZjgtYTg5ZjBlOWEwY2YyXC9kY3hqeWZiLWQwM2JkN2IxLTFmMTgtNGIzYy04YjM1LTc5NGRlODMxMjk5MS5naWYifV1dLCJhdWQiOlsidXJuOnNlcnZpY2U6ZmlsZS5kb3dubG9hZCJdfQ.FBSOaTY3c7CkSLGqfXeuN7jmCAbVF3Crx_tB8HIQn5o");
                // Send the embed
                event.getChannel().sendMessage(embed);
            }
        });

        // Print the invite url of your bot
        System.out.println("You can invite the bot by using the following url: " + api.createBotInvite());
    }

    public static String[] getRandomMulti(String[][] array) {
        int rnd = new Random().nextInt(array.length);
        return array[rnd];
    }
    public static String getRandom(String[] array) {
        int rnd = new Random().nextInt(array.length);
        return array[rnd];
    }
}

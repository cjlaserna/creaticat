package com.github.fluffiewuffie;

import org.javacord.api.DiscordApi;
import org.javacord.api.DiscordApiBuilder;
import org.javacord.api.entity.activity.Activity;
import org.javacord.api.entity.activity.ActivityType;
import org.javacord.api.entity.message.embed.EmbedBuilder;
import org.javacord.api.util.event.ListenerManager;
//import org.javacord.api.event.message;


public class Main {

    public static void main(String[] args) {

        // Insert your bot's token here
        String token = "Nzc3MDA1NDMwODM2MTY2NzA2.X69Isg.7UCykeBv8f3xGQ1S6IxkGxCKEPs";

        //logs the bot in
        DiscordApi api = new DiscordApiBuilder().setToken(token).login().join();

//        // Add a listener which answers with "boop!" if someone writes ".beep"
        api.addMessageCreateListener(event -> {
            if (event.getMessageContent().equalsIgnoreCase("!beep")) {
                event.getChannel().sendMessage("boop!");
            }
        });

        // Add a listener which prints out stats
        api.addMessageCreateListener(event -> {
            if (event.getMessageContent().equalsIgnoreCase("!info")) {
                // Create the embed
                EmbedBuilder embed = new EmbedBuilder()
                        .setTitle("Current stats:")
                        .addField("health", "Some text inside the field")
                        .addField("friendship level", "blah blahlah")
                        .addField("happiness", "yah");
                // Send the embed
                event.getChannel().sendMessage(embed);
            }
        });

        // Print the invite url of your bot
        System.out.println("You can invite the bot by using the following url: " + api.createBotInvite());
    }


    //supposedly called when the bot joins a server
//    private void onServerJoin(ServerJoinEvent event){
//
//    }



}
